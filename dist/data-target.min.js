"use strict";(()=>{function r(t){t.preventDefault(),e(t.currentTarget)}function o(t){t.preventDefault(),e(t.currentTarget)}function e(e){try{!async function(t){var e=t.getAttribute("data-target"),a=function(t){var e=document.getElementById(t);if(e)return e;throw new Error(`data-target: No element found with ID "${t}"`)}(e),n=await window.dataTargetConfig.httpRequestDispatcher(t),t=(function(t,e){for(;t.lastChild;)t.removeChild(t.lastChild);t.insertAdjacentHTML("afterbegin",e)}(a,n.content),window.dataTargetInit(a),t instanceof HTMLAnchorElement?t.href:t.action);!function(t,e){t.dispatchEvent(new CustomEvent("data-target:load",{bubbles:!0,cancelable:!0,detail:e}))}(a,{url:t,targetElementId:e,responseStatusCode:n.statusCode})}(e)}catch(t){window.dataTargetConfig.errorHandler(t,e)}}window.dataTargetConfig={errorHandler:(t,e)=>{console.error({error:t,element:e})},httpRequestDispatcher:async t=>{return(t instanceof HTMLAnchorElement?async function(t){const e=await fetch(t.href);return{content:await e.text(),statusCode:e.status}}:async function(t){const e=t.method,a=new FormData(t);let n;n="get"===e.toLowerCase()?await async function(t){const e=new FormData(t),a=e.entries(),n=Array.from(a),r=n.map(([t,e])=>e instanceof File?null:[t,e]).filter(t=>!!t),o=Object.fromEntries(r),c=new URLSearchParams(o);return fetch(t.action+"?"+c)}(t):await fetch(t.action,{method:e,body:a});return{content:await n.text(),statusCode:n.status}})(t)}},window.dataTargetInit=t=>{{var e=t;const a=e.querySelectorAll('a[data-target]:not([data-target=""])');a.forEach(t=>{t.addEventListener("click",r)})}{const n=(e=t).querySelectorAll('form[data-target]:not([data-target=""])');n.forEach(t=>{t.addEventListener("submit",o)})}},window.dataTargetInit(document.body)})();