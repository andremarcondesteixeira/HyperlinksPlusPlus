"use strict";(()=>{function r(t){const e=t.querySelectorAll('a[data-target]:not([data-target=""])');e.forEach(t=>{t.addEventListener("click",n)})}function o(t){const e=t.querySelectorAll('form[data-target]:not([data-target=""])');e.forEach(t=>{t.addEventListener("submit",a)})}function n(t){t.preventDefault(),e(t.currentTarget)}function a(t){t.preventDefault(),e(t.currentTarget)}function e(e){try{!async function(t){var e=t.getAttribute("data-target"),n=function(t){var e=document.getElementById(t);if(e)return e;throw new Error(`data-target: No element found with ID "${t}"`)}(e),a=await window.dataTargetConfig.httpRequestDispatcher(t),t=(function(t,e){for(;t.lastChild;)t.removeChild(t.lastChild);t.insertAdjacentHTML("afterbegin",e)}(n,a.content),r(n),o(n),t instanceof HTMLAnchorElement?t.href:t.action);!function(t,e){t.dispatchEvent(new CustomEvent("data-target:load",{bubbles:!0,cancelable:!0,detail:e}))}(n,{url:t,targetElementId:e,responseStatusCode:a.statusCode})}(e)}catch(t){window.dataTargetConfig.errorHandler(t,e)}}window.dataTargetConfig={errorHandler:(t,e)=>{console.error({error:t,element:e})},httpRequestDispatcher:async t=>{return(t instanceof HTMLAnchorElement?async function(t){const e=await fetch(t.href);return{content:await e.text(),statusCode:e.status}}:async function(t){const e=t.method,n=new FormData(t);let a;a="get"===e.toLowerCase()?await async function(t){const e=new FormData(t),n=e.entries(),a=Array.from(n),r=a.map(([t,e])=>e instanceof File?null:[t,e]).filter(t=>!!t),o=Object.fromEntries(r),c=new URLSearchParams(o);return fetch(t.action+"?"+c)}(t):await fetch(t.action,{method:e,body:n});return{content:await a.text(),statusCode:a.status}})(t)}},r(document.body),o(document.body)})();