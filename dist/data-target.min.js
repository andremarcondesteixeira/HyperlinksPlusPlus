"use strict";(()=>{function r(t){const e=t.querySelectorAll('a[data-target]:not([data-target=""])');e.forEach(t=>{t.addEventListener("click",a)})}function o(t){const e=t.querySelectorAll('form[data-target]:not([data-target=""])');e.forEach(t=>{t.addEventListener("submit",n)})}function a(t){t.preventDefault(),e(t.currentTarget)}function n(t){t.preventDefault(),e(t.currentTarget)}function e(e){try{!async function(t){var e=t.getAttribute("data-target"),a=function(t){var e=document.getElementById(t);if(e)return e;throw new Error(`data-target: No element found with ID "${t}"`)}(e),n=await(t instanceof HTMLAnchorElement?window.dataTargetConfig.httpRequestDispatcherForAnchors(t):window.dataTargetConfig.httpRequestDispatcherForForms(t)),t=(function(t,e){for(;t.lastChild;)t.removeChild(t.lastChild);t.insertAdjacentHTML("afterbegin",e)}(a,n.content),r(a),o(a),t instanceof HTMLAnchorElement?t.href:t.action);!function(t,e){t.dispatchEvent(new CustomEvent("data-target:load",{bubbles:!0,cancelable:!0,detail:e}))}(a,{url:t,targetElementId:e,responseStatusCode:n.statusCode})}(e)}catch(t){window.dataTargetConfig.errorHandler(t,e)}}window.dataTargetConfig={errorHandler:(t,e)=>{console.error({error:t,element:e})},httpRequestDispatcherForAnchors:async t=>{const e=await fetch(t.href);return{content:await e.text(),statusCode:e.status}},httpRequestDispatcherForForms:async t=>{const e=t.method,a=new FormData(t);let n;if("get"===e.toLowerCase()){var r=a.entries();const o=Array.from(r);r=o.map(([t,e])=>e instanceof File?null:[t,e]).filter(t=>!!t),r=Object.fromEntries(r),r=new URLSearchParams(r);n=await fetch(t.action+"?"+r)}else n=await fetch(t.action,{method:e,body:a});return{content:await n.text(),statusCode:n.status}}},r(document.body),o(document.body)})();